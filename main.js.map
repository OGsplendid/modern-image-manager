{"version":3,"file":"main.js","mappings":"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","sources":["webpack://trello/./src/components/gallery/Gallery.js","webpack://trello/./src/components/dragndrop/Dragndrop.js","webpack://trello/./src/js/app.js"],"sourcesContent":["export default class Gallery {\n  constructor(element) {\n    this.element = element;\n    this.count = 0;\n\n    this.urlList = [];\n\n    this.onCloseBtnClick = this.onCloseBtnClick.bind(this);\n    this.element.addEventListener('click', this.onCloseBtnClick);\n  }\n\n  static createLi(description, url) {\n    return `\n      <li class=\"img-item\">\n      <img src=\"${url}\" class=\"img\">\n        <div class=\"close-button\">X</div>\n        <span class=\"img-discription\">${description}</span>\n      </li>\n    `;\n  }\n\n  addToArray(el) {\n    this.urlList.push(el);\n  }\n\n  clear() {\n    const images = this.element.querySelectorAll('.img-item');\n    images.forEach((item) => item.remove());\n  }\n\n  render() {\n    this.clear();\n    this.urlList.forEach((el) => {\n      const li = Gallery.createLi(el.description, el.url);\n      this.element.insertAdjacentHTML('beforeend', li);\n    });\n  }\n\n  onCloseBtnClick(e) {\n    if (!e.target.classList.contains('close-button')) {\n      return;\n    }\n    const deletable = e.target.closest('.img-item');\n    const url = deletable.querySelector('.img').getAttribute('src');\n    const deletableIndex = this.urlList.findIndex((el) => el.url === url);\n    this.urlList.splice(deletableIndex, 1);\n    deletable.remove();\n  }\n}\n","import Gallery from '../gallery/Gallery';\n\nexport default class Dragndrop {\n  constructor(element) {\n    this.element = element;\n    this.gallery = new Gallery(document.querySelector('.bottom-container'));\n    this.bottomContainer = document.querySelector('.bottom-container');\n    this.fileContainer = this.element.querySelector('.file-container');\n    this.fileInput = document.querySelector('.input');\n\n    this.onClick = this.onClick.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.onDrop = this.onDrop.bind(this);\n\n    this.fileContainer.addEventListener('click', this.onClick);\n    this.fileContainer.addEventListener('dragleave', Dragndrop.onDragleave);\n    this.fileContainer.addEventListener('dragover', Dragndrop.onDragover);\n    this.fileContainer.addEventListener('drop', this.onDrop);\n    this.fileInput.addEventListener('change', this.onChange);\n  }\n\n  static onDragover(e) {\n    e.preventDefault();\n\n    e.target.classList.remove('normal-state');\n    e.target.classList.add('dragged');\n  }\n\n  static onDragleave(e) {\n    e.preventDefault();\n\n    e.target.classList.add('normal-state');\n    e.target.classList.remove('dragged');\n  }\n\n  onDrop(e) {\n    e.preventDefault();\n\n    const file = e.dataTransfer.files && e.dataTransfer.files[0];\n    const reader = new FileReader();\n    const id = performance.now();\n\n    reader.addEventListener('load', (ev) => {\n      const imgObject = {\n        url: `${ev.target.result}#${id}`,\n        description: file.name,\n      };\n      this.gallery.addToArray(imgObject);\n      this.gallery.render();\n    });\n    reader.readAsDataURL(file);\n\n    e.target.classList.add('normal-state');\n    e.target.classList.remove('dragged');\n  }\n\n  onChange() {\n    if (this.fileInput.files && this.fileInput.files.length > 1) {\n      for (let i = 0; i < this.fileInput.files.length; i += 1) {\n        const file = this.fileInput.files[i];\n        const id = performance.now() + i;\n\n        const reader = new FileReader();\n        reader.addEventListener('load', (ev) => {\n          const imgObject = {\n            url: `${ev.target.result}#${id}`,\n            description: file.name,\n          };\n          this.gallery.addToArray(imgObject);\n          this.gallery.render();\n        });\n        reader.readAsDataURL(file);\n      }\n      return;\n    }\n\n    const file = this.fileInput.files && this.fileInput.files[0];\n\n    if (!file) {\n      return;\n    }\n\n    const id = performance.now();\n\n    const reader = new FileReader();\n    reader.addEventListener('load', (ev) => {\n      const imgObject = {\n        url: `${ev.target.result}#${id}`,\n        description: file.name,\n      };\n      this.gallery.addToArray(imgObject);\n      this.gallery.render();\n    });\n    reader.readAsDataURL(file);\n    console.log(id);\n  }\n\n  onClick() {\n    this.fileInput.dispatchEvent(new MouseEvent('click'));\n  }\n}\n","import '../css/style.css';\nimport Dragndrop from '../components/dragndrop/Dragndrop';\n\nconst dragndrop = new Dragndrop(document.querySelector('.top-container'));\n"],"names":["Gallery","constructor","element","this","count","urlList","onCloseBtnClick","bind","addEventListener","createLi","description","url","addToArray","el","push","clear","querySelectorAll","forEach","item","remove","render","li","insertAdjacentHTML","e","target","classList","contains","deletable","closest","querySelector","getAttribute","deletableIndex","findIndex","splice","Dragndrop","gallery","document","bottomContainer","fileContainer","fileInput","onClick","onChange","onDrop","onDragleave","onDragover","preventDefault","add","file","dataTransfer","files","reader","FileReader","id","performance","now","ev","imgObject","result","name","readAsDataURL","length","i","console","log","dispatchEvent","MouseEvent"],"sourceRoot":""}